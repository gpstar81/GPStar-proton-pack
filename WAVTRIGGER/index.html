<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>WAV Trigger Configuration - GPStar Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/custom.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "WAV Trigger Configuration";
        var mkdocs_page_input_path = "WAVTRIGGER.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="..">
          <img src="../images/gpstar_logo_white.png" class="logo" alt="Logo"/>
        </a>
        <div class="version">
          6.x
        </div><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../ABOUT/">About</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Core Components</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../GUIDE_LISTING/">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../PACK_PCB/">Proton Pack</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../WAND_PCB/">Neutrona Wand</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../HOSE/">Pack-Wand Hose</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../GPSTAR_AUDIO_PCB/">GPStar Audio</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../DIY_LEGACY/">Legacy DIY</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Optional Components</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" >Proton Pack</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../CYCLOTRON_LID/">Cyclotron Lid</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../CYCLOTRON_INNER/">Inner Cyclotron</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../CYCLOTRON_BYPASS/">Cyclotron Bypass</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../NFILTER/">N-Filter</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../POWERCELL/">Power Cell</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Neutrona Wand</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../BARGRAPH/">Bargraph</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../HATS/">Hatlights</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../VENTLIGHT/">Vent Lights</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Serial1 Expansion</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../SERIAL1/">Overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../ATTENUATOR/">Attenuator</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../WIRELESS/">WiFi Adapter</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Special Guides</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../POWER/">Power Requirements</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../SOUND/">Sound Output</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../SMOKE/">Smoke Kits</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Install Videos</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../INSTALL_VIDEOS_JONOGUNN/">Jonogunn</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../INSTALL_VIDEOS_NORCALGB/">Nor-Cal GB</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Maintenance</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../FLASHING/">Flashing Pack/Wand Firmware</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ATTENUATOR_FLASHING/">Flashing Attenuator/Wifi</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../AUDIO_FILES/">Audio Files</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Operation Manuals</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../OPERATION_USAGE/">General Usage</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../OPERATION_MENUS/">Runtime Menus</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../OPERATION_EEPROM/">EEPROM Menus</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Help</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../TROUBLESHOOTING/">Troubleshooting</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../FAQ/">FAQ</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">GPStar Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">WAV Trigger Configuration</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="wav-trigger-configuration">WAV Trigger Configuration</h1>
<p>The first thing to take care of is updating the firmware on the WAV Trigger boards. They all currently ship with at least version 1.34, and 1.40 is required for some unique features of the GPStar Proton Pack. Version 1.40 can be found here in this repository in the <code>extras</code> folder.</p>
<p>The WAV Trigger software updater and instructions <a href="https://www.robertsonics.com/wav-trigger">can be found on the Robertsonics website</a>. To update the firmware, an <a href="https://www.sparkfun.com/products/9716">FTDI Basic (5V version)</a> from Sparkfun should be used to interface with the WAV Trigger. You may also use any USB-to-serial adapter, so long as it is a TTL-level device, not RS- 232. <strong>Plugging RS-232 level signals into the WAV Trigger serial interface will damage the WAV Trigger!</strong></p>
<p><a href="https://github.com/gpstar81/GPStar-proton-pack/blob/main/extras/sound/WavTrigger/WAVTrig_20231001_v140.hex?raw=1">WAV Trigger Firmware v1.40</a> - Custom firmware for GPStar equipment, not available via manufacturer's website.</p>
<p><a href="https://www.robertsonics.com/s/WTFlasher_20230108_v200.zip">WAV Trigger Flasher Utility v2.00 Windows Executable (zip)</a></p>
<p><a href="https://www.robertsonics.com/s/WTFlasher_20230108_v200.dmg">WAV Trigger Flasher Utility v2.00 OS X (10.11 and above) (dmg)</a></p>
<p><img alt="FTDI Board" src="../images/FTDI.png" /></p>
<p>Only 4 connections between the boards will be required: TX/RX and 5V/Ground.
<img alt="USB and Wire Connections" src="../images/WavTriggerFTDI.jpg" /></p>
<p><strong>Firmware Summary Steps</strong></p>
<ol>
<li>Solder wires directly or use a row of pin headers to the holes along the bottom right edge of the WAV Trigger (as viewed with the barrel connector oriented at the top left).</li>
<li>Solder the small pad marked "5V" just below the sockets for SPKR +/-. This will allow the WAV Trigger to operate from the 5V supplied by USB and later the battery for your Proton Pack.</li>
<li>There is a small switch near the power connect (barrel) to on the WAV Trigger, set it to the “load” position.</li>
<li>Connect the following wires from the FTDI to WAV Trigger:<ul>
<li>RX on the FTDI to the TX of the WAV Trigger.</li>
<li>TX from the FTDI to the RX of the WAV Trigger.</li>
<li>5V from the FTDI to 5Vin.</li>
<li>GND from one side to the other.</li>
</ul>
</li>
<li>Plug in the USB cable from your computer to the FTDI board.</li>
<li>Run the WT-Flasher app on your computer, then click on BROWSE and navigate to and select the 1.40 firmware hex file <code>WAVTrig_20231001_v140.hex</code> that you downloaded from the extras folder in this repository.</li>
<li>Once connected to your computer, click the RESCAN button and select the device from the drop down USB Serial Port menu.</li>
<li>Then click the PROGRAM button. The app should establish communication and begin flashing the new firmware.</li>
<li>After it has finished updating the firmware, disconnect everything and set the black switch back from <code>LOAD to RUN</code>.</li>
</ol>
<p><strong>While flashing, you will see a number % progress indicator at the bottom of the Flasher software window indicating the status of the flashing progress.</strong></p>
<p><img alt="Board Closeup" src="../images/WTFlasher220.png" /></p>
<p><strong>IMPORTANT: Make sure after flashing the firmware to set the small switch on the WAV Trigger back to the RUN position.</strong></p>
<p>Note the "5V" pad just below the SPKR connection holes.
<img alt="Board Closeup" src="../images/WavTrigger.jpg" /></p>
<p><img alt="Connection Overview" src="../images/WavTrigger5V.jpg" /></p>
<h2 id="connections">Connections</h2>
<p>Once the firmware is updated to 1.40 and you have confirmed this using the WAV Trigger setup utility, there will be connections made to the respective microcontroller boards. Similar to the previous step the RX and TX will go to the respective TX and RX ports on the microcontroller boards. See the setup instructions for the Pack and Wand as necessary. The 5Vin and GND will be connected to the power to each of the pack and wand, respectively. DO NOT use the 5V port on either Mega or Nano to drive this device--you will need to split your power connection to each device to provide sufficient current.</p>
<p>NOTE: See below for more information. I used standard breadboard friendly header jumper cables to make the connections from the FTDI basic to the connectors I added to the WAV Trigger. Also note that the WAV Triggers have both a AUX output and/or 2 pins for audio output. You can use either or to connect to your speakers or amps.</p>
<p><strong>IMPORTANT: You will need to solder the 5V pad on the WAV Trigger to enable 5V power from the device. After you do this, NEVER USE the BARREL CONNECTOR for power. We will be using 5V to power the WAV Triggers for both in the Pack and the Wand.</strong></p>
<h2 id="loading-audio-files">Loading Audio Files</h2>
<p>Please see the <a href="../AUDIO_FILES/">Audio Files</a> guide.</p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>GPStar Technologies</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
