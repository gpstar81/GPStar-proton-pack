# Advanced Configuration					
The following guide explores the variables and constants which are user-changeable within the code. The purpose of these changes is to set preferred defaults for the operation of your Proton Pack and Neutrona Wand at bootup, meaning just after the devices have battery power applied. These defaults will avoid the need to switch operation modes and other settings through the menu system.

Please consider all items as changeable at your own risk. Deviating from any recommended values may impact the operation of your pack and wand and cause unwanted or odd behavior. Bug reports or issues which arise from modification of these values will be considered moot unless accompanied by copies of changed files to aid in reproducing the behavior.

All user-configurable values reside within their respective **Configuration.h** file. Note that when loading the .ino file to the Arduino IDE this should load the related .h files automatically.

## Proton Pack

|Variable| Description| Default Setting |
|--------|------------|-----------------|
| const int i&#95;cyclotron&#95;leds | Cyclotron lid LED count. There are 12 LEDs in the stock Haslab Cyclotron lid. If you install a 40 LED NeoPixel ring in your Cyclotron lid, then this should be set to 40. The default setting is 12. <br><br>**Note: The cyclotron lid can support up to 40 (rgbw) addressable LEDs such as NeoPixels (ws2812b). They will change colour accordingly if you switch to video game modes firing modes.**| 12 |
| const int i&#95;1984&#95;cyclotron&#95;leds[4] | This is the middle led aligned in each cyclotron lens. Put the sequence in order from lowest to highest in a clockwise direction. The top right lens is the cyclotron lens #1 and work your way clockwise. The default setting is { 2, 5, 8, 11 } which is for the stock Haslab LEDs. If you installed a 40 LED NeoPixel ring in your cyclotron lid, then the settings of { 1, 11, 19, 29 } is recommended depending on how you aligned the ring. | { 2, 5, 8, 11 } |
| const int i&#95;powercell&#95;leds | Powercell LED count. There are 13 LEDs in the stock Haslab Power Cell. If you install a Frutto Technology Power Cell which has 15 LEDs, then change this to 15. You can also add your own addressable LEDs, adjust the count as necessary.<br><br>**If you add more Power Cell LEDs, you may want to adjust the i&#95;powercell&#95;delay&#95;2021 and i&#95;powercell&#95;delay&#95;1984 to lower numbers to speed up the Power Cell delay to reflect the additional LEDs.**| 13 |
| const int i&#95;1984&#95;delay | This controls the delay in milliseconds when a LED changes on the cyclotron lid in 1984 mode. The default setting is 1050 which is 1.05 seconds. | 1050 |
| const int i&#95;2021&#95;delay | This controls the delay in milliseconds when a LED changes on the cyclotron lid in 2021 mode. The default setting is 15. If you use a 40 LED NeoPixel ring in the cyclotron lid, changing this to 10 is a good setting.| 15 |
| const int i&#95;powercell&#95;delay&#95;2021 | This controls the delay in milliseconds when a LED changes in the Power Cell in Afterlife mode. The default setting is 40 which is for 13 LEDs in the stock Haslab Power Cell. If you replace the Power Cell with more LEDs, it is suggested to lower this number to get a proper speed. | 40 |
| const int i&#95;powercell&#95;delay&#95;1984 | This controls the delay in milliseconds when a LED changes in the power cell in 1984/1989 mode. The default setting is 75 which is for 13 LEDs in the stock Haslab Power Cell. If you replace the Power Cell with more LEDs, it is suggested to lower this number to get a proper speed. | 75 |
| #define CYCLOTRON&#95;NUM&#95;LEDS | This setting controls how many optional LEDs are in the Inner (cake) Cyclotron. Default setting of 35 is for a 35 pixel NeoPixel ring. If you change this for a smaller NeoPixel ring, you may need to alter the i&#95;2021&#95;inner&#95;delay and i&#95;1984&#95;inner&#95;delay to lower values to slow down the rotation speed for a smaller ring. | 35 |
| const int i&#95;2021&#95;inner&#95;delay | This setting controls the optional NeoPixel ring speed for the inner cyclotron in 2021 mode. The default setting is 5 which is set for a 35 pixel NeoPixel ring. Decrease this number to make the ring spin faster, or increase to spin slower. | 5 |
| const int i&#95;1984&#95;inner&#95;delay | The same as above, but for 1984 mode. Default setting is 9 for a 35 pixel NeoPixel ring. | 9 |
| const int STARTUP&#95;VOLUME | The default startup master volume of the proton pack. This is a percentage value of between 100% and 0%. 100 = highest, 0 = lowest. When a Neutrona Wand is connected, it will sync to this value. | 100 |
| const int STARTUP&#95;VOLUME&#95;MUSIC | The default music volume of the Proton Pack. This is a percentage value of between 100% and 0%. 100 = highest, 0 = lowest. When a Neutrona Wand is connected, it will sync to this value. | 100 |
| const int STARTUP&#95;VOLUME&#95;EFFECTS | The default sound effects volume of the Proton Pack. This is a percentage value of between 100% and 0%. 100 = highest, 0 = lowest. When a Neutrona Wand is connected, it will sync to this value. | 100 |
| const int MINIMUM&#95;VOLUME | You can set the minimum lowest volume the proton pack can go. 0 = loudest, and -70 = quietest. | -50 |
| const int VOLUME&#95;MULTIPLIER | Percentage increments of master volume change. | 2 |
| const int VOLUME&#95;MUSIC&#95;MULTIPLIER | Percentage increments of the music volume change. | 5 |
| const int VOLUME&#95;EFFECTS&#95;MULTIPLIER | Percentage increments of the sound effects volume change. | 5 |
| const bool b&#95;onboard&#95;amp&#95;enabled | Set to true to enable the onboard amplifier of the Wav Trigger. Turning off the onboard amp draws less power. If using the AUX cable jack of the Wav Trigger, the amp can be disabled to save power. If you are using the output pins directly on the Wav Trigger board to your speakers, you will need to enable the amp. <br><br>**The onboard mono audio amplifier and speaker connector specifications: 2w into 4 Ohms, 1.25W into 8 Ohms**| false |
| bool b&#95;clockwise | Set to true for the cyclotron lights to spin clockwise. Set to false to be counter clockwise. This can be controlled by an optional switch on pin 29. **Note: This can be toggled from the Neutrona Wand sub menu system.** | true |
| bool b&#95;vibration | Enable or disable vibration control for the Proton Pack. When set to false, there will be no vibration enabled for the Proton Pack. <br><br>**Note: This can be toggled from the Neutrona Wand sub menu system or disbabled by the Proton Pack vibration toggle switch.**| true |
| bool b&#95;vibration&#95;firing | When set to true, when b_vibration is enabled, the Proton Pack will only vibrate while the Neutrona wand is firing. <br><br>**Note: This can be toggled from the Neutrona Wand sub menu system or disbabled by the Proton Pack vibration toggle switch.**| true |
| const bool b&#95;overheat&#95;strobe | If you want the optional n-filter NeoPixel jewel to strobe during overheat, set to true. When false, the light stays solid white during overheat. | false |
| const bool b&#95;overheat&#95;lights&#95;off | When the pack is overheating, the powercell will ramp down and turn off. The cyclotron also turns off. When set to false, the powercell and cyclotron stays on during overheat but ramps and spins very slowly. | true |
| const bool b&#95;fade&#95;cyclotron&#95;led | When set to false, the LEDs on the cyclotron lid in 1984 mode will not fade. | true |
| bool b&#95;cyclotron&#95;single&#95;led | When set to true, the LEDs on the cyclotron lid will light up the middle LED only per cyclotron lens during 1984 and 1989 mode. When set to false, 3 LED's per lens will be displayed instead. <br><br>**Note: This can be toggled from the Neutrona Wand sub menu system.** | true |
| const int i&#95;1984&#95;fade&#95;out&#95;delay | Time in milliseconds for the cyclotron lid LED to fade out when enabled. | 210 |
| const int i&#95;1984&#95;fade&#95;in&#95;delay | Time in milliseconds for the cyclotron lid LED to fade in when enabled. | 210 |
| bool b&#95;smoke&#95;enabled | Enable or disable smoke settings. This can be toggled with a switch on PIN 37. <br><br>**Note: This can be toggled from the Neutrona Wand sub menu system.** | true |
| const bool b&#95;smoke&#95;1&#95;continuous&#95;firing | Set to true to enable smoke 1 during continuous firing events. <br><br>**This can be overridden if b&#95;smoke&#95;enabled is set to false** | true | 
| const bool b&#95;smoke&#95;2&#95;continuous&#95;firing | Set to true to enable smoke 2 during continuous firing events. <br><br>**This can be overridden if b&#95;smoke&#95;enabled is set to false** | true |
| const bool b&#95;fan&#95;continuous&#95;firing | Set to true to enable the fan during continuous firing events. <br><br>**This can be overridden if b&#95;smoke&#95;enabled is set to false** | true |
| const bool b&#95;smoke&#95;continuous&#95;mode&#95;1 | Set to true to enable smoke events in **wand power mode 1** during continuous firing events. *This can be overridden if b&#95;smoke&#95;enabled is set to false or if all 3 of the smoke&#95;1, smoke&#95;2 and fan&#95;continuous are set to false* | true |
| const bool b&#95;smoke&#95;continuous&#95;mode&#95;2 | Set to true to enable smoke events in **wand power mode 2** during continuous firing events. *This can be overridden if b&#95;smoke&#95;enabled is set to false or if all 3 of the smoke&#95;1, smoke&#95;2 and fan&#95;continuous are set to false* | true |
| const bool b&#95;smoke&#95;continuous&#95;mode&#95;3 | Set to true to enable smoke events in **wand power mode 3** during continuous firing events. *This can be overridden if b&#95;smoke&#95;enabled is set to false or if all 3 of the smoke&#95;1, smoke&#95;2 and fan&#95;continuous are set to false* | true |
| const bool b&#95;smoke&#95;continuous&#95;mode&#95;4 | Set to true to enable smoke events in **wand power mode 4** during continuous firing events. *This can be overridden if b&#95;smoke&#95;enabled is set to false or if all 3 of the smoke&#95;1, smoke&#95;2 and fan&#95;continuous are set to false* | true |
| const bool b&#95;smoke&#95;continuous&#95;mode&#95;5 | Set to true to enable smoke events in **wand power mode 5** during continuous firing events. *This can be overridden if b&#95;smoke&#95;enabled is set to false or if all 3 of the smoke&#95;1, smoke&#95;2 and fan&#95;continuous are set to false* | true |
| const unsigned long int i&#95;smoke&#95;timer&#95;mode&#95;1 | How long in milliseconds until the smoke pins & fan pin are activated during a continious firing in **wand power mode 1**. *Example: 30000 is 30 seconds* | 30000 |
| const unsigned long int i&#95;smoke&#95;timer&#95;mode&#95;2 | How long in milliseconds until the smoke pins & fan pin are activated during a continious firing in **wand power mode 2**. *Example: 15000 is 15 seconds* | 15000 |
| const unsigned long int i&#95;smoke&#95;timer&#95;mode&#95;3 | How long in milliseconds until the smoke pins & fan pin are activated during a continious firing in **wand power mode 3**. *Example: 10000 is 10 seconds* | 10000 |
| const unsigned long int i&#95;smoke&#95;timer&#95;mode&#95;4 | How long in milliseconds until the smoke pins & fan pin are activated during a continious firing in **wand power mode 4**. *Example: 7500 is 7.5 seconds* | 7500 |
| const unsigned long int i&#95;smoke&#95;timer&#95;mode&#95;5 | How long in milliseconds until the smoke pins & fan pin are activated during a continious firing in **wand power mode 5**. *Example: 6000 is 6 seconds* | 6000 |
| const unsigned long int i&#95;smoke&#95;on&#95;time&#95;mode&#95;1 | How long do you want your smoke pins and fan pin to stay on while continuous firing in **wand power mode 1** after they have been activated. *Example: 3000 is 3 seconds* | 3000 |
| const unsigned long int i&#95;smoke&#95;on&#95;time&#95;mode&#95;2 | How long do you want your smoke pins and fan pin to stay on while continuous firing in **wand power mode 2** after they have been activated. *Example: 3000 is 3 seconds* | 3000 |
| const unsigned long int i&#95;smoke&#95;on&#95;time&#95;mode&#95;3 | How long do you want your smoke pins and fan pin to stay on while continuous firing in **wand power mode 3** after they have been activated. *Example: 3500 is 3.5 seconds* | 3500 |
| const unsigned long int i&#95;smoke&#95;on&#95;time&#95;mode&#95;4 | How long do you want your smoke pins and fan pin to stay on while continuous firing in **wand power mode 4** after they have been activated. *Example: 3500 is 3.5 seconds* | 3500 |
| const unsigned long int i&#95;smoke&#95;on&#95;time&#95;mode&#95;5 | How long do you want your smoke pins and fan pin to stay on while continuous firing in **wand power mode 3** after they have been activated. *Example: 3500 is 4 seconds* | 4000 |
| const bool b&#95;smoke&#95;1&#95;overheat | Set to true to enable smoke 1 pin during the overheat sequence. *This can be overridden if b&#95;smoke&#95;enabled is false* | true |
| const bool b&#95;smoke&#95;2&#95;overheat | Set to true to enable smoke 2 pin during the overheat seqeuence. *This can be overridden if b&#95;smoke&#95;enabled is false* | true |
| const bool b&#95;fan&#95;overheat | Set to true to enable the fan pin during the overheat seqeuence. *This can be overridden if b&#95;smoke&#95;enabled is false* | true |
| const bool b&#95;smoke&#95;overheat&#95;mode&#95;1 | Set to true to enable smoke events during the overheat sequence in **wand power mode 1**. *This can be overridden if b&#95;smoke&#95;enabled is false or if all 3 of the smoke&#95;1, smoke&#95;2 and fan overheat are set to false*| true |
| const bool b&#95;smoke&#95;overheat&#95;mode&#95;2 | Set to true to enable smoke events during the overheat sequence in **wand power mode 2**. *This can be overridden if b&#95;smoke&#95;enabled is false or if all 3 of the smoke&#95;1, smoke&#95;2 and fan overheat are set to false*| true |
| const bool b&#95;smoke&#95;overheat&#95;mode&#95;3 | Set to true to enable smoke events during the overheat sequence in **wand power mode 3**. *This can be overridden if b&#95;smoke&#95;enabled is false or if all 3 of the smoke&#95;1, smoke&#95;2 and fan overheat are set to false*| true |
| const bool b&#95;smoke&#95;overheat&#95;mode&#95;4 | Set to true to enable smoke events during the overheat sequence in **wand power mode 4**. *This can be overridden if b&#95;smoke&#95;enabled is false or if all 3 of the smoke&#95;1, smoke&#95;2 and fan overheat are set to false*| true |
| const bool b&#95;smoke&#95;overheat&#95;mode&#95;5 | Set to true to enable smoke events during the overheat sequence in **wand power mode 5**. *This can be overridden if b&#95;smoke&#95;enabled is false or if all 3 of the smoke&#95;1, smoke&#95;2 and fan overheat are set to false*| true |
| const bool b&#95;diagnostic | Set to true if you want to know if your wand and pack are communicating. If the wand and pack have a serial connection to each other, you will hear a constant beeping sound. | false |

## Neutrona Wand

|Variable| Description| Default Setting |
|--------|------------|-----------------|
| const int STARTUP&#95;VOLUME | The default master volume of your wand. This will be overriden if you connect your Neutrona Wand to the Proton Pack. This is a percentage value of between 100% and 0%. 100 = highest, 0 = lowest. | 100 |
| const int STARTUP&#95;VOLUME&#95;MUSIC | The default music volume of the Neutrona Wand. This will be overriden if you connect your Neutrona Wand to the Proton Pack. This is a percentage value of between 100% and 0%. 100 = highest, 0 = lowest. | 100 |
| const int STARTUP&#95;VOLUME&#95;EFFECTS | The default sound effects volume of the Neutrona Wand. This will be overriden if you connect your Neutrona Wand to the Proton Pack. This is a percentage value of between 100% and 0%. 100 = highest, 0 = lowest. | 100 |
| const int MINIMUM&#95;VOLUME | You can set the minimum lowest volume the Neutona Wand can go. 0 = loudest, and -70 = quietest. If your Proton Pack is overpowering your Neutrona Wand sounds at lower volume levels, increase this number. | -35 |
| const int VOLUME&#95;MULTIPLIER | Percentage increments of main volume change. | 2 |
| const int VOLUME&#95;MUSIC&#95;MULTIPLIER | Percentage increments of the music volume change. | 5 |
| const int VOLUME&#95;EFFECTS&#95;MULTIPLIER | Percentage increments of the sound effects volume change. | 5 |
| const bool b&#95;onboard&#95;amp&#95;enabled | Set to true to enable the onboard amplifier of the Wav Trigger. Turning off the onboard amp draws less power. If using the AUX cable jack of the Wav Trigger, the amp can be disabled to save power. If you are using the output pins directly on the Wav Trigger board to your speakers, you will need to enable the amp. <br><br>**The onboard mono audio amplifier and speaker connector specifications: 2w into 4 Ohms, 1.25W into 8 Ohms** | true |
| const bool b&#95;bargraph&#95;alt | Set to true if you are replacing the stock Hasbro bargraph with a Barmeter 28 segment bargraph or the Frutto Technologies 28 segment bargraph add-on. Part #: BL28Z-3005SA04Y | false |
| #define GPSTAR&#95;INVERT&#95;BARGRAPH | When defined, the Barmeter 28 segment bargraph will invert it's sequence. When using the **Frutto Technologies** 28 segment bargraph, this should be defined which is the default setting. <br><br>**Defined / Enabled:**<br>#define GPSTAR&#95;INVERT&#95;BARGRAPH <br><br>**NOT Defined / Disabled:**<br>//#define GPSTAR&#95;INVERT&#95;BARGRAPH | #define GPSTAR&#95;INVERT&#95;BARGRAPH |
| const bool b&#95;cross&#95;the&#95;streams |  When set to true, the mode switch button to change firing modes changes to a alternate firing button. Pressing this button together at the same time as the Intensify button does a cross the streams firing. **The video game firing modes will be disabled when you enable this.** **This can be toggled from the Neutrona Wand sub menu system.** | false |
| bool b&#95;vibration&#95;on | Enable or disable vibration control for the Neutrona Wand. When set to false, there will be no vibration enabled for the Neutrona Wand. <br><br>**Note: This can be toggled from the Neutrona Wand sub menu system or disbabled by the Proton Pack vibration toggle switch.** | true |
| bool b&#95;vibration&#95;firing | When set to true, when **b&#95;vibration&#95;on** is to true, the Neutrona Wand will only vibrate during firing. <br><br>**Note: This can be toggled from the Neutrona Wand sub menu system or disbabled by the Proton Pack vibration toggle switch.**| true |
| const bool b&#95;no&#95;pack | Set this to true if you want to use your Neutrona Wand without a Proton Pack connected. Otherwise when false, the Neutrona Wand will wait until it is connected to a Proton Pack before it can activate. | false |
| bool b&#95;overheat&#95;enabled | Set to true if you want the Neutrona Wand and Proton Pack to overheat (Overheat settings below still need to be enabled for the necessary power levels. When set to false, it will override and overheating settings in each individual power mode. <br><br>**Note: This can be toggled from the Neutrona Wand sub menu system.** | true |
| const bool b&#95;overheat&#95;bargraph&#95;blink | Set to true if you want the Neutrona Wand bargraph to blink/flash during overheat. When false, the bargraph ramps down and then ramps back up when overheating has ended.  | false |
| const bool b&#95;wand&#95;boot&#95;errors | Set to true to have your Neutrona wand boot up with errors when the top right switch (beep switch) is on while you are turning on your wand. When set to false, this feature is disabled.  | true |
| const bool b&#95;overheat&#95;mode&#95;1 | Set to true if you want the Neutrona Wand and Proton Pack to overheat in **wand power mode 1** | false |
| const bool b&#95;overheat&#95;mode&#95;2 | Set to true if you want the Neutrona Wand and Proton Pack to overheat in **wand power mode 2** | false |
| const bool b&#95;overheat&#95;mode&#95;3 | Set to true if you want the Neutrona Wand and Proton Pack to overheat in **wand power mode 3** | false |
| const bool b&#95;overheat&#95;mode&#95;4 | Set to true if you want the Neutrona Wand and Proton Pack to overheat in **wand power mode 4** | false |
| const bool b&#95;overheat&#95;mode&#95;5 | Set to true if you want the Neutrona Wand and Proton Pack to overheat in **wand power mode 5** | true |
| const unsigned long int i&#95;ms&#95;overheat&#95;initiate&#95;mode&#95;1 | Time in milliseconds for when the overheat sequence will initiate for the Neutrona Wand and Proton Pack if enabled for **wand power mode 1**. *Example: 60000 is 60 seconds* | 60000 |
| const unsigned long int i&#95;ms&#95;overheat&#95;initiate&#95;mode&#95;2 | Time in milliseconds for when the overheat sequence will initiate for the Neutrona Wand and Proton Pack if enabled for **wand power mode 2**. *Example: 30000 is 30 seconds* | 30000 |
| const unsigned long int i&#95;ms&#95;overheat&#95;initiate&#95;mode&#95;3 | Time in milliseconds for when the overheat sequence will initiate for the Neutrona Wand and Proton Pack if enabled for **wand power mode 3**. *Example: 20000 is 20 seconds* | 20000 |
| const unsigned long int i&#95;ms&#95;overheat&#95;initiate&#95;mode&#95;4 | Time in milliseconds for when the overheat sequence will initiate for the Neutrona Wand and Proton Pack if enabled for **wand power mode 4**. *Example: 15000 is 15 seconds* | 15000 |
| const unsigned long int i&#95;ms&#95;overheat&#95;initiate&#95;mode&#95;5 | Time in milliseconds for when the overheat sequence will initiate for the Neutrona Wand and Proton Pack if enabled for **wand power mode 5**. *Example: 12000 is 12 seconds* | 12000 |
| const bool b_debug | Debug testing. Set to true to debug the A6 and A7 analog pin readings of the Neutrona Wand. This uses the USB port and the tx/rx pins need to be disconnected from the Proton Pack so serial information can be sent back to the Arduino IDE. *The wand will respond slower in this mode as it is streaming constant serial data back to the debugger.* | false |